{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Ntekeli\\\\Desktop\\\\drum-machine\\\\drum-machine\\\\src\\\\store\\\\ControlProvider.js\",\n  _s = $RefreshSig$();\nimport { useReducer } from \"react\";\nimport VolumeContext from './VolumeContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst defaultState = {\n  instrumentLevels: [0, 0, 0, 0, 0],\n  instrumentMute: [false, false, false, false, false]\n};\nconst instrumentReducer = (state, action) => {\n  const instrumentIndex = state.instrumentLevels.findIndex((instrument, index) => index === action.id);\n  if (action.type === \"VOLUME\") {\n    const newLevel = action.level;\n    const newInstrumentLevels = state.instrumentLevels;\n    newInstrumentLevels[instrumentIndex] = newLevel;\n    console.log(\"ch\");\n    return {\n      instrumentLevels: newInstrumentLevels,\n      instrumentMute: state.instrumentMute\n    };\n  }\n  if (action.type === \"MUTE\") {\n    const newMuteState = state.instrumentMute;\n    newMuteState[instrumentIndex] = false;\n    return {\n      instrumentLevels: state.instrumentLevels,\n      instrumentMute: newMuteState\n    };\n  }\n  if (action.type === 'UNMUTE') {\n    const newMuteState = state.instrumentMute;\n    newMuteState[instrumentIndex] = true;\n    return {\n      instrumentLevels: state.instrumentLevels,\n      instrumentMute: newMuteState\n    };\n  }\n  return {\n    defaultState\n  };\n};\nfunction ControlProvider(props) {\n  _s();\n  const [volumeState, dispatchControl] = useReducer(instrumentReducer, defaultState);\n  const volumeHandler = (level, id) => {\n    dispatchControl({\n      type: \"VOLUME\",\n      level: level,\n      id: id\n    });\n  };\n  const muteHandler = id => {\n    dispatchControl({\n      type: \"MUTE\",\n      id: id\n    });\n  };\n  const unmuteHandler = id => {\n    dispatchControl({\n      type: 'UNMUTE',\n      id: id\n    });\n  };\n  const controlContext = {\n    instrumentLevels: volumeState.instrumentLevels,\n    instrumentMute: volumeState.instrumentMute,\n    volumeHandler: volumeHandler,\n    muteHandler: muteHandler,\n    unmuteHandler: unmuteHandler\n  };\n  return /*#__PURE__*/_jsxDEV(VolumeContext.Provider, {\n    value: controlContext,\n    children: props.children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 5\n  }, this);\n}\n_s(ControlProvider, \"H3nHEC3R9Gt+Fr345rKpeWKhpEE=\");\n_c = ControlProvider;\nexport default ControlProvider;\nvar _c;\n$RefreshReg$(_c, \"ControlProvider\");","map":{"version":3,"names":["useReducer","VolumeContext","defaultState","instrumentLevels","instrumentMute","instrumentReducer","state","action","instrumentIndex","findIndex","instrument","index","id","type","newLevel","level","newInstrumentLevels","console","log","newMuteState","ControlProvider","props","volumeState","dispatchControl","volumeHandler","muteHandler","unmuteHandler","controlContext","children"],"sources":["C:/Users/Ntekeli/Desktop/drum-machine/drum-machine/src/store/ControlProvider.js"],"sourcesContent":["import { useReducer } from \"react\";\r\nimport VolumeContext from './VolumeContext';\r\n\r\nconst defaultState = {\r\n  instrumentLevels: [0, 0, 0, 0, 0],\r\n  instrumentMute: [false, false, false, false, false],\r\n};\r\n\r\nconst instrumentReducer = (state, action) => {\r\n  const instrumentIndex = state.instrumentLevels.findIndex(\r\n    (instrument, index) => index === action.id\r\n  );\r\n  \r\n  if ((action.type === \"VOLUME\")) {\r\n    const newLevel = action.level;\r\n    const newInstrumentLevels = state.instrumentLevels;\r\n    newInstrumentLevels[instrumentIndex] = newLevel;\r\n    console.log(\"ch\")\r\n    return {\r\n      instrumentLevels: newInstrumentLevels,\r\n      instrumentMute: state.instrumentMute,\r\n    };\r\n  }\r\n  if ((action.type === \"MUTE\")) {\r\n    const newMuteState = state.instrumentMute;\r\n    newMuteState[instrumentIndex] = false;\r\n    return {\r\n      instrumentLevels: state.instrumentLevels,\r\n      instrumentMute: newMuteState,\r\n    } \r\n  }\r\n  if ((action.type === 'UNMUTE')) {\r\n    const newMuteState = state.instrumentMute;\r\n    newMuteState[instrumentIndex] = true;\r\n    return {\r\n      instrumentLevels: state.instrumentLevels,\r\n      instrumentMute: newMuteState,\r\n    } \r\n  }\r\n  return { defaultState };\r\n};\r\n\r\nfunction ControlProvider(props) {\r\n  const [volumeState, dispatchControl] = useReducer(\r\n    instrumentReducer,\r\n    defaultState\r\n  );\r\n\r\n  const volumeHandler = (level, id) => {\r\n    dispatchControl({ type: \"VOLUME\", level: level, id: id });\r\n  };\r\n  const muteHandler = (id) => {\r\n    dispatchControl({ type: \"MUTE\", id: id });\r\n  }\r\n  const unmuteHandler = (id) => {\r\n    dispatchControl({ type: 'UNMUTE', id: id })\r\n  }\r\n  const controlContext = {\r\n    instrumentLevels: volumeState.instrumentLevels,\r\n    instrumentMute: volumeState.instrumentMute,\r\n    volumeHandler: volumeHandler,\r\n    muteHandler: muteHandler,\r\n    unmuteHandler: unmuteHandler,\r\n  }\r\n  return (\r\n    <VolumeContext.Provider value={controlContext}>\r\n      {props.children}\r\n    </VolumeContext.Provider>\r\n  );\r\n}\r\n\r\nexport default ControlProvider;\r\n"],"mappings":";;AAAA,SAASA,UAAU,QAAQ,OAAO;AAClC,OAAOC,aAAa,MAAM,iBAAiB;AAAC;AAE5C,MAAMC,YAAY,GAAG;EACnBC,gBAAgB,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;EACjCC,cAAc,EAAE,CAAC,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK;AACpD,CAAC;AAED,MAAMC,iBAAiB,GAAG,CAACC,KAAK,EAAEC,MAAM,KAAK;EAC3C,MAAMC,eAAe,GAAGF,KAAK,CAACH,gBAAgB,CAACM,SAAS,CACtD,CAACC,UAAU,EAAEC,KAAK,KAAKA,KAAK,KAAKJ,MAAM,CAACK,EAAE,CAC3C;EAED,IAAKL,MAAM,CAACM,IAAI,KAAK,QAAQ,EAAG;IAC9B,MAAMC,QAAQ,GAAGP,MAAM,CAACQ,KAAK;IAC7B,MAAMC,mBAAmB,GAAGV,KAAK,CAACH,gBAAgB;IAClDa,mBAAmB,CAACR,eAAe,CAAC,GAAGM,QAAQ;IAC/CG,OAAO,CAACC,GAAG,CAAC,IAAI,CAAC;IACjB,OAAO;MACLf,gBAAgB,EAAEa,mBAAmB;MACrCZ,cAAc,EAAEE,KAAK,CAACF;IACxB,CAAC;EACH;EACA,IAAKG,MAAM,CAACM,IAAI,KAAK,MAAM,EAAG;IAC5B,MAAMM,YAAY,GAAGb,KAAK,CAACF,cAAc;IACzCe,YAAY,CAACX,eAAe,CAAC,GAAG,KAAK;IACrC,OAAO;MACLL,gBAAgB,EAAEG,KAAK,CAACH,gBAAgB;MACxCC,cAAc,EAAEe;IAClB,CAAC;EACH;EACA,IAAKZ,MAAM,CAACM,IAAI,KAAK,QAAQ,EAAG;IAC9B,MAAMM,YAAY,GAAGb,KAAK,CAACF,cAAc;IACzCe,YAAY,CAACX,eAAe,CAAC,GAAG,IAAI;IACpC,OAAO;MACLL,gBAAgB,EAAEG,KAAK,CAACH,gBAAgB;MACxCC,cAAc,EAAEe;IAClB,CAAC;EACH;EACA,OAAO;IAAEjB;EAAa,CAAC;AACzB,CAAC;AAED,SAASkB,eAAe,CAACC,KAAK,EAAE;EAAA;EAC9B,MAAM,CAACC,WAAW,EAAEC,eAAe,CAAC,GAAGvB,UAAU,CAC/CK,iBAAiB,EACjBH,YAAY,CACb;EAED,MAAMsB,aAAa,GAAG,CAACT,KAAK,EAAEH,EAAE,KAAK;IACnCW,eAAe,CAAC;MAAEV,IAAI,EAAE,QAAQ;MAAEE,KAAK,EAAEA,KAAK;MAAEH,EAAE,EAAEA;IAAG,CAAC,CAAC;EAC3D,CAAC;EACD,MAAMa,WAAW,GAAIb,EAAE,IAAK;IAC1BW,eAAe,CAAC;MAAEV,IAAI,EAAE,MAAM;MAAED,EAAE,EAAEA;IAAG,CAAC,CAAC;EAC3C,CAAC;EACD,MAAMc,aAAa,GAAId,EAAE,IAAK;IAC5BW,eAAe,CAAC;MAAEV,IAAI,EAAE,QAAQ;MAAED,EAAE,EAAEA;IAAG,CAAC,CAAC;EAC7C,CAAC;EACD,MAAMe,cAAc,GAAG;IACrBxB,gBAAgB,EAAEmB,WAAW,CAACnB,gBAAgB;IAC9CC,cAAc,EAAEkB,WAAW,CAAClB,cAAc;IAC1CoB,aAAa,EAAEA,aAAa;IAC5BC,WAAW,EAAEA,WAAW;IACxBC,aAAa,EAAEA;EACjB,CAAC;EACD,oBACE,QAAC,aAAa,CAAC,QAAQ;IAAC,KAAK,EAAEC,cAAe;IAAA,UAC3CN,KAAK,CAACO;EAAQ;IAAA;IAAA;IAAA;EAAA,QACQ;AAE7B;AAAC,GA3BQR,eAAe;AAAA,KAAfA,eAAe;AA6BxB,eAAeA,eAAe;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}