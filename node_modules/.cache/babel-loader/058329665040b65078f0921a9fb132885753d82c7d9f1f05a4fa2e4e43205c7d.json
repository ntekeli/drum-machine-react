{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Ntekeli\\\\Desktop\\\\drum-machine\\\\drum-machine\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport \"./App.css\";\nimport Header from \"./components/Header\";\nimport Seq from \"./components/Seq\";\nimport * as Tone from \"tone\";\nimport { useState } from \"react\";\nimport bd01 from \"./assets/bd01.wav\";\nimport sn01 from \"./assets/sn01.wav\";\nimport ch01 from \"./assets/ch01.wav\";\nimport oh01 from \"./assets/oh01.wav\";\nimport cy01 from \"./assets/cy01.wav\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst kit = new Tone.Players({\n  bd: bd01,\n  sn: sn01,\n  ch: ch01,\n  oh: oh01,\n  cy: cy01\n}).toDestination();\nkit.fadeOut = \"64n\";\nlet synth = new Tone.Synth().toDestination();\nconst defaultPattern = {\n  bPat: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n  sPat: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n  hPat: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n  oPat: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n  cPat: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]\n};\nlet beat = 0;\nfunction App() {\n  _s();\n  const [gridState, setGridState] = useState(defaultPattern);\n  const configLoop = () => {\n    const repeat = time => {\n      for (const beat of gridState.bPat) {\n        if (beat === 1) {\n          console.log(\"note\");\n          synth.triggerAttackRelease(\"E3\", \"8n\", time);\n        }\n        if (beat === 0) {\n          console.log('pong');\n        }\n      }\n      ;\n      beat = (beat + 1) % 16;\n    };\n    Tone.Transport.bpm.value = 120;\n    Tone.Transport.scheduleRepeat(repeat, \"8n\");\n  };\n  const start = () => {\n    Tone.Transport.start();\n    configLoop();\n  };\n  const stop = () => {\n    Tone.Transport.stop();\n  };\n  const gridChange = id => {\n    const {\n      bPat,\n      sPat,\n      hPat,\n      oPat,\n      cPat\n    } = gridState;\n    if (id < 16) {\n      bPat[id] = +!bPat[id];\n      setGridState({\n        bPat,\n        sPat,\n        hPat,\n        oPat,\n        cPat\n      });\n      console.log(gridState);\n    }\n    if (id < 32 && id >= 16) {\n      sPat[id - 16] = +!sPat[id - 16];\n      setGridState({\n        bPat,\n        sPat,\n        hPat,\n        oPat,\n        cPat\n      });\n    }\n    if (id < 48 && id >= 32) {\n      hPat[id - 32] = +!hPat[id - 32];\n      setGridState({\n        bPat,\n        sPat,\n        hPat,\n        oPat,\n        cPat\n      });\n    }\n    if (id < 64 && id >= 48) {\n      oPat[id - 48] = +!oPat[id - 48];\n      setGridState({\n        bPat,\n        sPat,\n        hPat,\n        oPat,\n        cPat\n      });\n    }\n    if (id < 80 && id >= 64) {\n      cPat[id - 64] = +!cPat[id - 64];\n      setGridState({\n        bPat,\n        sPat,\n        hPat,\n        oPat,\n        cPat\n      });\n    }\n  };\n  const playBd = () => {\n    kit.player(\"bd\").start();\n  };\n  const playSn = () => {\n    kit.player(\"sn\").start();\n  };\n  const playCh = () => {\n    kit.player(\"ch\").start();\n  };\n  const playOh = () => {\n    kit.player(\"oh\").start();\n  };\n  const playCy = () => {\n    kit.player(\"cy\").start();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"main\",\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      start: start,\n      stop: stop\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Seq, {\n      gridChange: gridChange,\n      gridState: gridState,\n      defaultPattern: defaultPattern,\n      playBd: playBd,\n      playSn: playSn,\n      playCh: playCh,\n      playOh: playOh,\n      playCy: playCy\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 109,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"BZjm243YFkQerNwVQZslH4H6fas=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["Header","Seq","Tone","useState","bd01","sn01","ch01","oh01","cy01","kit","Players","bd","sn","ch","oh","cy","toDestination","fadeOut","synth","Synth","defaultPattern","bPat","sPat","hPat","oPat","cPat","beat","App","gridState","setGridState","configLoop","repeat","time","console","log","triggerAttackRelease","Transport","bpm","value","scheduleRepeat","start","stop","gridChange","id","playBd","player","playSn","playCh","playOh","playCy"],"sources":["C:/Users/Ntekeli/Desktop/drum-machine/drum-machine/src/App.js"],"sourcesContent":["import \"./App.css\";\nimport Header from \"./components/Header\";\nimport Seq from \"./components/Seq\";\nimport * as Tone from \"tone\";\nimport { useState } from \"react\";\n\nimport bd01 from \"./assets/bd01.wav\";\nimport sn01 from \"./assets/sn01.wav\";\nimport ch01 from \"./assets/ch01.wav\";\nimport oh01 from \"./assets/oh01.wav\";\nimport cy01 from \"./assets/cy01.wav\";\n\nconst kit = new Tone.Players({\n  bd: bd01,\n  sn: sn01,\n  ch: ch01,\n  oh: oh01,\n  cy: cy01,\n}).toDestination();\nkit.fadeOut = \"64n\";\n\nlet synth = new Tone.Synth().toDestination();\n\nconst defaultPattern = {\n  bPat: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n  sPat: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n  hPat: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n  oPat: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n  cPat: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n};\nlet beat = 0;\nfunction App() {\n  const [gridState, setGridState] = useState(defaultPattern);\n  \n\n\n  const configLoop = () => {\n\n    const repeat = (time) => {\n      for (const beat of gridState.bPat) {\n        \n        if (beat === 1) {\n          console.log(\"note\");\n          synth.triggerAttackRelease(\"E3\", \"8n\", time);\n        } if (beat === 0) {\n          console.log('pong');\n        }\n      };\n  \n      beat = (beat + 1) % 16;\n    };\n  \n    Tone.Transport.bpm.value = 120;\n    Tone.Transport.scheduleRepeat(repeat, \"8n\");\n  };\n    \n\n  const start = () => {\n    Tone.Transport.start();\n    configLoop();\n  }\n\n  const stop = () => {\n    Tone.Transport.stop();\n  }\n\n  const gridChange = (id) => {\n    const { bPat, sPat, hPat, oPat, cPat } = gridState;\n    if (id < 16) {\n      bPat[id] = +!bPat[id];\n      setGridState({ bPat, sPat, hPat, oPat, cPat });\n      console.log(gridState);\n    }\n    if (id < 32 && id >= 16) {\n      sPat[id - 16] = +!sPat[id - 16];\n      setGridState({ bPat, sPat, hPat, oPat, cPat });\n    }\n    if (id < 48 && id >= 32) {\n      hPat[id - 32] = +!hPat[id - 32];\n      setGridState({ bPat, sPat, hPat, oPat, cPat });\n    }\n    if (id < 64 && id >= 48) {\n      oPat[id - 48] = +!oPat[id - 48];\n      setGridState({ bPat, sPat, hPat, oPat, cPat });\n    }\n    if (id < 80 && id >= 64) {\n      cPat[id - 64] = +!cPat[id - 64];\n      setGridState({ bPat, sPat, hPat, oPat, cPat });\n    }\n  };\n\n  const playBd = () => {\n    kit.player(\"bd\").start();\n  };\n  const playSn = () => {\n    kit.player(\"sn\").start();\n  };\n  const playCh = () => {\n    kit.player(\"ch\").start();\n  };\n  const playOh = () => {\n    kit.player(\"oh\").start();\n  };\n  const playCy = () => {\n    kit.player(\"cy\").start();\n  };\n\n  return (\n    <div className=\"main\">\n      <Header start={start} stop={stop} />\n      <Seq\n        gridChange={gridChange}\n        gridState={gridState}\n        defaultPattern={defaultPattern}\n        playBd={playBd}\n        playSn={playSn}\n        playCh={playCh}\n        playOh={playOh}\n        playCy={playCy}\n      />\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}