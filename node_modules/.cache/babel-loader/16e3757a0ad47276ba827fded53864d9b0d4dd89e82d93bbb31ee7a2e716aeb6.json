{"ast":null,"code":"export var detachArrayBuffer = function detachArrayBuffer(arrayBuffer) {\n  var _MessageChannel = new MessageChannel(),\n    port1 = _MessageChannel.port1,\n    port2 = _MessageChannel.port2;\n  return new Promise(function (resolve) {\n    var closeAndResolve = function closeAndResolve() {\n      port2.onmessage = null;\n      port1.close();\n      port2.close();\n      resolve();\n    };\n    port2.onmessage = function () {\n      return closeAndResolve();\n    };\n    try {\n      port1.postMessage(arrayBuffer, [arrayBuffer]);\n    } finally {\n      closeAndResolve();\n    }\n  });\n};","map":{"version":3,"mappings":"AAAA,OAAO,IAAMA,iBAAiB,GAAG,SAApBA,iBAAiB,CAAIC,WAAwB,EAAmB;EACzE,sBAAyB,IAAIC,cAAc,EAAE;IAArCC,KAAK,mBAALA,KAAK;IAAEC,KAAK,mBAALA,KAAK;EAEpB,OAAO,IAAIC,OAAO,CAAC,UAACC,OAAO,EAAI;IAC3B,IAAMC,eAAe,GAAG,SAAlBA,eAAe,GAAQ;MACzBH,KAAK,CAACI,SAAS,GAAG,IAAI;MAEtBL,KAAK,CAACM,KAAK,EAAE;MACbL,KAAK,CAACK,KAAK,EAAE;MAEbH,OAAO,EAAE;IACb,CAAC;IAEDF,KAAK,CAACI,SAAS,GAAG;MAAA,OAAMD,eAAe,EAAE;IAAA;IAEzC,IAAI;MACAJ,KAAK,CAACO,WAAW,CAACT,WAAW,EAAE,CAACA,WAAW,CAAC,CAAC;KAChD,SAAS;MACNM,eAAe,EAAE;;EAEzB,CAAC,CAAC;AACN,CAAC","names":["detachArrayBuffer","arrayBuffer","MessageChannel","port1","port2","Promise","resolve","closeAndResolve","onmessage","close","postMessage"],"sources":["C:\\Users\\Ntekeli\\Desktop\\drum-machine\\drum-machine\\node_modules\\standardized-audio-context\\src\\helpers\\detach-array-buffer.ts"],"sourcesContent":["export const detachArrayBuffer = (arrayBuffer: ArrayBuffer): Promise<void> => {\n    const { port1, port2 } = new MessageChannel();\n\n    return new Promise((resolve) => {\n        const closeAndResolve = () => {\n            port2.onmessage = null;\n\n            port1.close();\n            port2.close();\n\n            resolve();\n        };\n\n        port2.onmessage = () => closeAndResolve();\n\n        try {\n            port1.postMessage(arrayBuffer, [arrayBuffer]);\n        } finally {\n            closeAndResolve();\n        }\n    });\n};\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}