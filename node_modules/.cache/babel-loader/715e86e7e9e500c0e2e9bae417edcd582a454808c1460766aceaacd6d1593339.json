{"ast":null,"code":"import _slicedToArray from\"C:/Users/Ntekeli/Desktop/drum-machine/drum-machine/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useReducer}from\"react\";import VolumeContext from\"./VolumeContext\";import{jsx as _jsx}from\"react/jsx-runtime\";var defaultState={instrumentLevels:[0,0,0,0,0],instrumentMute:[false,false,false,false,false],instrumentPitch:[10,10,10,10,10]};var instrumentReducer=function instrumentReducer(state,action){var instrumentIndex=state.instrumentLevels.findIndex(function(instrument,index){return index===action.id;});if(action.type===\"VOLUME\"){var newLevel=action.level;var newInstrumentLevels=state.instrumentLevels;newInstrumentLevels[instrumentIndex]=newLevel;return{instrumentLevels:newInstrumentLevels,instrumentMute:state.instrumentMute,instrumentPitch:state.instrumentPitch};}if(action.type===\"PITCH\"){var _newLevel=action.level;var newPitchLevels=state.instrumentPitch;newPitchLevels[instrumentIndex]=_newLevel;return{instrumentLevels:state.instrumentLevels,instrumentMute:state.instrumentMute,instrumentPitch:newPitchLevels};}if(action.type===\"MUTE\"){var newMuteState=state.instrumentMute;newMuteState[instrumentIndex]=false;return{instrumentLevels:state.instrumentLevels,instrumentMute:newMuteState,instrumentPitch:state.instrumentPitch};}if(action.type===\"UNMUTE\"){var _newMuteState=state.instrumentMute;_newMuteState[instrumentIndex]=true;return{instrumentLevels:state.instrumentLevels,instrumentMute:_newMuteState,instrumentPitch:state.instrumentPitch};}if(action.type===\"SOLO\"){var newSoloState=state.instrumentMute;newSoloState.forEach(function(element,index){newSoloState[index]=true;});newSoloState[instrumentIndex]=false;return{instrumentLevels:state.instrumentLevels,instrumentMute:newSoloState,instrumentPitch:state.instrumentPitch};}if(action.type===\"UNSOLO\"){var _newSoloState=[false,false,false,false,false];return{instrumentLevels:state.instrumentLevels,instrumentMute:_newSoloState,instrumentPitch:state.instrumentPitch};}return{defaultState:defaultState};};function ControlProvider(props){var _useReducer=useReducer(instrumentReducer,defaultState),_useReducer2=_slicedToArray(_useReducer,2),volumeState=_useReducer2[0],dispatchControl=_useReducer2[1];var volumeHandler=function volumeHandler(level,id){dispatchControl({type:\"VOLUME\",level:level,id:id});};var muteHandler=function muteHandler(id){dispatchControl({type:\"MUTE\",id:id});};var unmuteHandler=function unmuteHandler(id){dispatchControl({type:\"UNMUTE\",id:id});};var soloHandler=function soloHandler(id){dispatchControl({type:\"SOLO\",id:id});};var unsoloHandler=function unsoloHandler(id){dispatchControl({type:\"UNSOLO\",id:id});};var pitchHandler=function pitchHandler(level,id){dispatchControl({type:\"PITCH\",level:level,id:id});};var controlContext={instrumentLevels:volumeState.instrumentLevels,instrumentMute:volumeState.instrumentMute,instrumentPitch:volumeState.instrumentPitch,volumeHandler:volumeHandler,muteHandler:muteHandler,unmuteHandler:unmuteHandler,soloHandler:soloHandler,unsoloHandler:unsoloHandler,pitchHandler:pitchHandler};return/*#__PURE__*/_jsx(VolumeContext.Provider,{value:controlContext,children:props.children});}export default ControlProvider;","map":{"version":3,"names":["useReducer","VolumeContext","defaultState","instrumentLevels","instrumentMute","instrumentPitch","instrumentReducer","state","action","instrumentIndex","findIndex","instrument","index","id","type","newLevel","level","newInstrumentLevels","newPitchLevels","newMuteState","newSoloState","forEach","element","ControlProvider","props","volumeState","dispatchControl","volumeHandler","muteHandler","unmuteHandler","soloHandler","unsoloHandler","pitchHandler","controlContext","children"],"sources":["C:/Users/Ntekeli/Desktop/drum-machine/drum-machine/src/store/ControlProvider.js"],"sourcesContent":["import { useReducer } from \"react\";\r\nimport VolumeContext from \"./VolumeContext\";\r\n\r\nconst defaultState = {\r\n  instrumentLevels: [0, 0, 0, 0, 0],\r\n  instrumentMute: [false, false, false, false, false],\r\n  instrumentPitch: [10, 10, 10, 10, 10],\r\n};\r\n\r\nconst instrumentReducer = (state, action) => {\r\n  const instrumentIndex = state.instrumentLevels.findIndex(\r\n    (instrument, index) => index === action.id\r\n  );\r\n\r\n  if (action.type === \"VOLUME\") {\r\n    const newLevel = action.level;\r\n    const newInstrumentLevels = state.instrumentLevels;\r\n    newInstrumentLevels[instrumentIndex] = newLevel;\r\n    return {\r\n      instrumentLevels: newInstrumentLevels,\r\n      instrumentMute: state.instrumentMute,\r\n      instrumentPitch: state.instrumentPitch,\r\n    };\r\n  }\r\n  if (action.type === \"PITCH\") {\r\n    const newLevel = action.level;\r\n    const newPitchLevels = state.instrumentPitch;\r\n    newPitchLevels[instrumentIndex] = newLevel;\r\n    return {\r\n      instrumentLevels: state.instrumentLevels,\r\n      instrumentMute: state.instrumentMute,\r\n      instrumentPitch: newPitchLevels,\r\n    }\r\n  }\r\n  if (action.type === \"MUTE\") {\r\n    const newMuteState = state.instrumentMute;\r\n    newMuteState[instrumentIndex] = false;\r\n    return {\r\n      instrumentLevels: state.instrumentLevels,\r\n      instrumentMute: newMuteState,\r\n      instrumentPitch: state.instrumentPitch,\r\n    };\r\n  }\r\n  if (action.type === \"UNMUTE\") {\r\n    const newMuteState = state.instrumentMute;\r\n    newMuteState[instrumentIndex] = true;\r\n    return {\r\n      instrumentLevels: state.instrumentLevels,\r\n      instrumentMute: newMuteState,\r\n      instrumentPitch: state.instrumentPitch,\r\n    };\r\n  }\r\n  if (action.type === \"SOLO\") {\r\n    let newSoloState = state.instrumentMute;\r\n    newSoloState.forEach((element, index) => {\r\n      newSoloState[index] = true;\r\n    })\r\n    \r\n    newSoloState[instrumentIndex] = false;\r\n   \r\n    return {\r\n      instrumentLevels: state.instrumentLevels,\r\n      instrumentMute: newSoloState,\r\n      instrumentPitch: state.instrumentPitch,\r\n    }\r\n  }\r\n  if (action.type === \"UNSOLO\") {\r\n    \r\n    const newSoloState = [false, false, false, false, false];\r\n    return {\r\n      instrumentLevels: state.instrumentLevels,\r\n      instrumentMute: newSoloState,\r\n      instrumentPitch: state.instrumentPitch,\r\n    }\r\n  }\r\n  return { defaultState };\r\n};\r\n\r\nfunction ControlProvider(props) {\r\n  const [volumeState, dispatchControl] = useReducer(\r\n    instrumentReducer,\r\n    defaultState\r\n  );\r\n\r\n  const volumeHandler = (level, id) => {\r\n    dispatchControl({ type: \"VOLUME\", level: level, id: id });\r\n  };\r\n  const muteHandler = (id) => {\r\n    dispatchControl({ type: \"MUTE\", id: id });\r\n  };\r\n  const unmuteHandler = (id) => {\r\n    dispatchControl({ type: \"UNMUTE\", id: id });\r\n  };\r\n  const soloHandler = (id) => {\r\n    dispatchControl({ type: \"SOLO\", id: id })\r\n  }\r\n  const unsoloHandler = (id) => {\r\n    dispatchControl({ type: \"UNSOLO\", id: id })\r\n  }\r\n  const pitchHandler = (level, id) => {\r\n    dispatchControl( {type: \"PITCH\", level: level, id: id})\r\n  }\r\n  const controlContext = {\r\n    instrumentLevels: volumeState.instrumentLevels,\r\n    instrumentMute: volumeState.instrumentMute,\r\n    instrumentPitch: volumeState.instrumentPitch,\r\n    volumeHandler: volumeHandler,\r\n    muteHandler: muteHandler,\r\n    unmuteHandler: unmuteHandler,\r\n    soloHandler: soloHandler,\r\n    unsoloHandler: unsoloHandler,\r\n    pitchHandler: pitchHandler,\r\n  };\r\n  return (\r\n    <VolumeContext.Provider value={controlContext}>\r\n      {props.children}\r\n    </VolumeContext.Provider>\r\n  );\r\n}\r\n\r\nexport default ControlProvider;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}